"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true,
});
var tslib_1 = require("tslib");
var ResourceNotFoundError_1 = tslib_1.__importDefault(
  require("../../interfaces/rest/errors/ResourceNotFoundError"),
);
var ConflictError_1 = tslib_1.__importDefault(require("../../interfaces/rest/errors/ConflictError"));
var repositories_1 = tslib_1.__importDefault(require("../../base/repositories"));
var TodoRepository = /** @class */ (function (_super) {
  tslib_1.__extends(TodoRepository, _super);
  function TodoRepository(_a) {
    var Todo = _a.models.Todo,
      currentUser = _a.currentUser;
    var _this =
      _super.call(this, {
        Model: Todo,
      }) || this;
    _this.Todo = Todo;
    _this.currentUser = currentUser;
    return _this;
  }
  TodoRepository.prototype.create = function (payload) {
    return tslib_1.__awaiter(this, void 0, void 0, function () {
      var existingTodo, newTodo;
      return tslib_1.__generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            if (!payload.title) return [3 /*break*/, 2];
            return [
              4 /*yield*/,
              this.find(
                {
                  title: payload.title,
                },
                undefined,
                {
                  lean: true,
                },
              ),
            ];
          case 1:
            existingTodo = _a.sent();
            if (existingTodo) {
              throw new ConflictError_1.default("Todo already exists");
            }
            _a.label = 2;
          case 2:
            return [
              4 /*yield*/,
              this.createDoc(
                tslib_1.__assign(tslib_1.__assign({}, payload), {
                  created_by: this.currentUser._id,
                }),
              ),
            ];
          case 3:
            newTodo = _a.sent();
            return [2 /*return*/, newTodo.getPublicFields()];
        }
      });
    });
  };
  TodoRepository.prototype.update = function (payload) {
    return tslib_1.__awaiter(this, void 0, void 0, function () {
      var existingTodo, newTodo;
      return tslib_1.__generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            return [
              4 /*yield*/,
              this.findById(payload._id, undefined, {
                lean: true,
              }),
            ];
          case 1:
            existingTodo = _a.sent();
            if (!existingTodo) {
              throw new ResourceNotFoundError_1.default("Todo not found");
            }
            return [
              4 /*yield*/,
              this.findOneAndUpdate(
                {
                  _id: payload._id,
                },
                tslib_1.__assign({}, payload),
                {
                  new: true,
                },
              ),
            ];
          case 2:
            newTodo = _a.sent();
            return [2 /*return*/, newTodo.getPublicFields()];
        }
      });
    });
  };
  TodoRepository.prototype.delete = function (payload) {
    return tslib_1.__awaiter(this, void 0, void 0, function () {
      var existingTodo, removeTodo;
      return tslib_1.__generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            return [
              4 /*yield*/,
              this.findById(payload._id, undefined, {
                lean: true,
              }),
            ];
          case 1:
            existingTodo = _a.sent();
            if (!existingTodo) {
              throw new ResourceNotFoundError_1.default("Todo not found");
            }
            return [
              4 /*yield*/,
              this.findOneAndDelete({
                _id: payload._id,
              }),
            ];
          case 2:
            removeTodo = _a.sent();
            return [2 /*return*/, removeTodo.getPublicFields()];
        }
      });
    });
  };
  TodoRepository.prototype.get = function () {
    return tslib_1.__awaiter(this, void 0, void 0, function () {
      var existingTodos;
      return tslib_1.__generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            return [
              4 /*yield*/,
              this.find(
                {},
                undefined,
                {
                  lean: true,
                },
                true,
              ),
            ];
          case 1:
            existingTodos = _a.sent();
            return [2 /*return*/, existingTodos];
        }
      });
    });
  };
  TodoRepository.prototype.getOne = function (payload) {
    return tslib_1.__awaiter(this, void 0, void 0, function () {
      var existingTodo, getTodo;
      return tslib_1.__generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            return [
              4 /*yield*/,
              this.findById(payload._id, undefined, {
                lean: true,
              }),
            ];
          case 1:
            existingTodo = _a.sent();
            if (!existingTodo) {
              throw new ResourceNotFoundError_1.default("Todo not found");
            }
            return [
              4 /*yield*/,
              this.find(
                {
                  _id: payload._id,
                },
                undefined,
                {
                  lean: true,
                },
              ),
            ];
          case 2:
            getTodo = _a.sent();
            return [2 /*return*/, getTodo];
        }
      });
    });
  };
  return TodoRepository;
})(repositories_1.default);
exports.default = TodoRepository;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInRzbGliXzEiLCJyZXF1aXJlIiwiUmVzb3VyY2VOb3RGb3VuZEVycm9yXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJDb25mbGljdEVycm9yXzEiLCJyZXBvc2l0b3JpZXNfMSIsIlRvZG9SZXBvc2l0b3J5IiwiX3N1cGVyIiwiX19leHRlbmRzIiwiX2EiLCJUb2RvIiwibW9kZWxzIiwiY3VycmVudFVzZXIiLCJfdGhpcyIsImNhbGwiLCJNb2RlbCIsInByb3RvdHlwZSIsImNyZWF0ZSIsInBheWxvYWQiLCJfX2F3YWl0ZXIiLCJleGlzdGluZ1RvZG8iLCJuZXdUb2RvIiwiX19nZW5lcmF0b3IiLCJsYWJlbCIsInRpdGxlIiwiZmluZCIsInVuZGVmaW5lZCIsImxlYW4iLCJzZW50IiwiZGVmYXVsdCIsImNyZWF0ZURvYyIsIl9fYXNzaWduIiwiY3JlYXRlZF9ieSIsIl9pZCIsImdldFB1YmxpY0ZpZWxkcyIsInVwZGF0ZSIsImZpbmRCeUlkIiwiZmluZE9uZUFuZFVwZGF0ZSIsIm5ldyIsImRlbGV0ZSIsInJlbW92ZVRvZG8iLCJmaW5kT25lQW5kRGVsZXRlIiwiZ2V0IiwiZXhpc3RpbmdUb2RvcyIsImdldE9uZSIsImdldFRvZG8iXSwic291cmNlcyI6WyIuLi8uLi8uLi90eXBlZC9jb250YWluZXJzL3RvZG9zL1RvZG9SZXBvc2l0b3J5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgUmVzb3VyY2VOb3RGb3VuZEVycm9yXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiaW50ZXJmYWNlcy9yZXN0L2Vycm9ycy9SZXNvdXJjZU5vdEZvdW5kRXJyb3JcIikpO1xudmFyIENvbmZsaWN0RXJyb3JfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJpbnRlcmZhY2VzL3Jlc3QvZXJyb3JzL0NvbmZsaWN0RXJyb3JcIikpO1xudmFyIHJlcG9zaXRvcmllc18xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImJhc2UvcmVwb3NpdG9yaWVzXCIpKTtcbnZhciBUb2RvUmVwb3NpdG9yeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhUb2RvUmVwb3NpdG9yeSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUb2RvUmVwb3NpdG9yeShfYSkge1xuICAgICAgICB2YXIgVG9kbyA9IF9hLm1vZGVscy5Ub2RvLCBjdXJyZW50VXNlciA9IF9hLmN1cnJlbnRVc2VyO1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB7IE1vZGVsOiBUb2RvIH0pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLlRvZG8gPSBUb2RvO1xuICAgICAgICBfdGhpcy5jdXJyZW50VXNlciA9IGN1cnJlbnRVc2VyO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFRvZG9SZXBvc2l0b3J5LnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAocGF5bG9hZCkge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBleGlzdGluZ1RvZG8sIG5ld1RvZG87XG4gICAgICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGF5bG9hZC50aXRsZSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmZpbmQoeyB0aXRsZTogcGF5bG9hZC50aXRsZSB9LCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVhbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nVG9kbyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ1RvZG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ29uZmxpY3RFcnJvcl8xLmRlZmF1bHQoXCJUb2RvIGFscmVhZHkgZXhpc3RzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuY3JlYXRlRG9jKHRzbGliXzEuX19hc3NpZ24odHNsaWJfMS5fX2Fzc2lnbih7fSwgcGF5bG9hZCksIHsgY3JlYXRlZF9ieTogdGhpcy5jdXJyZW50VXNlci5faWQgfSkpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3VG9kbyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBuZXdUb2RvLmdldFB1YmxpY0ZpZWxkcygpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBUb2RvUmVwb3NpdG9yeS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICAgICAgcmV0dXJuIHRzbGliXzEuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZXhpc3RpbmdUb2RvLCBuZXdUb2RvO1xuICAgICAgICAgICAgcmV0dXJuIHRzbGliXzEuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZmluZEJ5SWQocGF5bG9hZC5faWQsIHVuZGVmaW5lZCwgeyBsZWFuOiB0cnVlIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdUb2RvID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFleGlzdGluZ1RvZG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVzb3VyY2VOb3RGb3VuZEVycm9yXzEuZGVmYXVsdChcIlRvZG8gbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5maW5kT25lQW5kVXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiBwYXlsb2FkLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0c2xpYl8xLl9fYXNzaWduKHt9LCBwYXlsb2FkKSwgeyBuZXc6IHRydWUgfSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdUb2RvID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG5ld1RvZG8uZ2V0UHVibGljRmllbGRzKCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFRvZG9SZXBvc2l0b3J5LnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAocGF5bG9hZCkge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBleGlzdGluZ1RvZG8sIHJlbW92ZVRvZG87XG4gICAgICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5maW5kQnlJZChwYXlsb2FkLl9pZCwgdW5kZWZpbmVkLCB7IGxlYW46IHRydWUgfSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ1RvZG8gPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWV4aXN0aW5nVG9kbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZXNvdXJjZU5vdEZvdW5kRXJyb3JfMS5kZWZhdWx0KFwiVG9kbyBub3QgZm91bmRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmZpbmRPbmVBbmREZWxldGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaWQ6IHBheWxvYWQuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVG9kbyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZW1vdmVUb2RvLmdldFB1YmxpY0ZpZWxkcygpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBUb2RvUmVwb3NpdG9yeS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBleGlzdGluZ1RvZG9zO1xuICAgICAgICAgICAgcmV0dXJuIHRzbGliXzEuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZmluZCh7fSwgdW5kZWZpbmVkLCB7IGxlYW46IHRydWUgfSwgdHJ1ZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ1RvZG9zID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGV4aXN0aW5nVG9kb3NdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFRvZG9SZXBvc2l0b3J5LnByb3RvdHlwZS5nZXRPbmUgPSBmdW5jdGlvbiAocGF5bG9hZCkge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBleGlzdGluZ1RvZG8sIGdldFRvZG87XG4gICAgICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5maW5kQnlJZChwYXlsb2FkLl9pZCwgdW5kZWZpbmVkLCB7IGxlYW46IHRydWUgfSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ1RvZG8gPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWV4aXN0aW5nVG9kbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZXNvdXJjZU5vdEZvdW5kRXJyb3JfMS5kZWZhdWx0KFwiVG9kbyBub3QgZm91bmRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmZpbmQoeyBfaWQ6IHBheWxvYWQuX2lkIH0sIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWFuOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0VG9kbyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBnZXRUb2RvXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gVG9kb1JlcG9zaXRvcnk7XG59KHJlcG9zaXRvcmllc18xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFRvZG9SZXBvc2l0b3J5O1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxZ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
